# Luby's Randomized Maximal Independent Set Algorithm Parallel Formulation

### A fully functional project written in c++ to showcase Luby's algorithm

The example is written in c++. Run the ```cv1.cpp``` in terminal to automatically test the program.

Today, we introduce 2 problems. We have undirected sparse graph, and we want to find it's maximal independent set. That is the 1st problem. The second problem is optimization problem, where we try to split the graph into log10(num of vertices) processes and then use **<mpi.h>** to launch multiple threads to do parallel calculations of Luby's algorithm, before finally bringing all the processes together and running Luby's algorithm one final time to find the maximal set. 

The first problem is solved using Luby's algorithm, where we used some of the pseudocode from our teacher's lecture, and some inspiration from this gentleman: https://www.youtube.com/watch?v=r9_TOThTLMI&ab_channel=Comrevo.
We want to note, that Luby's algorithm doesn't always find the maximal independent set, but it will always give a approximate close to optimal solution (mostly because some parts of the code use random initialization).

The partition of the graph into multiple processes is done by GreedyPartition algorithm. The code I wrote is made from the pseudocode that our teachers gave us: https://elearn.elf.stuba.sk/moodle/pluginfile.php/76051/mod_resource/content/1/ZadaniaSP.pdf.

Finally, we use MPI library to launch multiple processes. Most of it's function is fairly easy to understand, as it is mostly just initialization of num number of processes. Each process will call greedyPartition algorithm, before writing each of their own answer into **vector<int>** finale using ```MPI_Gatherv```.
We then printed the results in the console and the time it took for them to finish compiling.
Here are some of the results:

```
4039 nodes.
4 partitions.
Independent set: 3217 996 3954 3450 2876 1206 1453 2736 2375 390 1586 3723 1901 621 3453 1386 3520 1821 730 1930 2405 1944 1264 3206 1558 2798 1306 2667 866 3729 3467 2883 1939 3154 267 1808 1304 168 3245 1869 1556 2595 1262 1224 2544 571 335 1924 1193 668 440 3125 3427 183 3944 338 1857 3215 208 1963 610 2770 3284 606 874 3407 138 3254 2287 638 3798 4028 951 864 2195 1495 3110 386 234 916 3267 453 2682 1579 837 245 2454 3498 49 3244 1938 550 1177 3991 225 1103 3631 2824 3059 2613 3564 909 3594 1936 520 3023 1430 279 790 3787 247 3817 681 2017 108 1697 2443 3992 846 883 427 920 3893 3839 1031 2442 1071 3600 1268 3753 2704 1400 2852 3955 3681 566 2634 2457 3703 3704 3175 1775 300 2632 3585 4010 3917 2732 2660 2996 2569 3978 3650 3686 3589 356 3889 485 3066 288 405 1301 3494 1239 958 3905 648 613 4035 759 71 934 1686 2535 2888 1072 3289 3199 2968 45 702 1372 3228 3935 2360 1566 3653 865 1537 572 3754 3772 2804 2740 1949 3965 139 3709 205 1932 3894 709 4015 3846 547 1326 2519 1615 4008 3492 3015 1476 1438 1696 2107 2168 1817 3271 3541 15 821 2547 1474 1068 117 2764 4033 935 2857 1739 1203 455 2855 1417 321 2382 3910 1842 2808 3323 3375 250 3614 3475 601 393 301 1178 286 1568 287 3749 3359 2472 743 3445 3249 293 156 152 1763 2899 1950 3552 2219 1855 3430 3133 2015 906 3946 1742 114 3092 253 2055 715 3967 368 226 3816 860 1151 60 3260 3511 499 1913 262 3820 3974 4003 2612 4004 1865 2747 4022 3645 2769 112 3055 1077 1089 1263 3296 2891 2818 1350 1398 3388 2834 351 3811 3815 929 3400 1362 2847 1464 1034 1394 34 3925 2441 1105 3317 3071 3451 2079 448 126 666 807 3432 672 103 210 1251 3916 3757 3984 3809 806 207 2113 2987 671 106 3795 187 3112 801 1411 3736 240 2998 4037 556 750 1770 674 151 476 1439 642 2816 2961 2262 3153 2811 1627 735 35 2931 3979 3952 3999 196 2860 731 2825 3621 3660 682 3717 2794 1690 3572 1038 2606 176 1414 2997 1801 2305 2034 1395 3951 2066 70 1769 2383 3436 193 2265 775 3582 3527 3698 3539 3167 4024 2016 3739 3745 2080 406 2524 2557 646 608 1854 2541 2842 3048 3531 1503 3939 3444 297 54 3560 1466 3666 379 248 2470 3491 911 3354 974 2722 2767 3028 3134 3936 891 282 63 660 270 12 1830 2251 2714 1581 11 1517 1389 163 1297 1276 1521 4018 3855 125 3688 3576 710 268 3748 3762 585 3429 3734 79 44 214 209 3230 269 3829 2186 1119 384 358 1892 2699 899 3765 829 1658 605 530 721 3603 3189 141 2177 385 3665 1805 4012 1176 758 2814 4029 2917 3250 3928 597 1779 55 2835 799 1970 1552 1602 602 243 206 1455 3441 1762 3216 1967 685 309 772 2596 327 377 826 179 256 3352 69 2358 3732 2269 3561 1519 3514 2373 2790 3575 4021 875 699 2012 317 3517 3682 3516 3151 2114 3784 3328 692 1152 918 162 2417 624 700 1286 3796 2577 3879 3922 3031 155 1022 18 2826 3290 2691 3619 362 1013 264 1416 223 1342 3570 3310 1719 2705 191 1760 3990 1562 2263 3865 283 3183 534 3597 2636 858 46 1336 201 3006 3413 665 1560 84 43 927 751 3827 820 1492 3003 854 2293 52 1252 2025 1925 889 3769 3418 3848 10 594 3030 334 33 292 4027 1094 1073 562 3801 656 1629 2175 3305 780 2448 1140 3937 263 2297 3983 869 1463 1246 3882 190 2971 1093 1607 3663 2975 480 928 1364 3875 305 1145 3282 1223 215 2505 3853 2952 2828 2178 590 3620 607 336 816 294 1874 93 2739 1091 3439 219 1180 3408 3047 945 2249 1651 749 344 1542 3393 744 213 880 859 3953 3854 1096 3911 160 3544 3398 851 4019 3389 442 1147 3563 218 3807 3637 1969 3859 3404 1834 2580 2733 691 3044 331 1873 3235 3202 841 798 533 2205 1164 3661 166 97 892 3315 316 74 3834 2684 1755 2581 3212 274 164 37 2588 1576 1270 2258 3390 153 1546 314 1157 1401 877 767 490 3768 298 1678 447 2185 1095 3608 4034 3461 1272 778 124 3959 3856 1233 2197 3537
Compilation time from process 0: 1.95 seconds
Compilation time from process 1: 1.978 seconds
Compilation time from process 2: 1.994 seconds
Compilation time from process 3: 2.005 seconds
```

![Graph](https://imgur.com/mGjNdBt.png)
![Table](https://imgur.com/aDG19dq.png)